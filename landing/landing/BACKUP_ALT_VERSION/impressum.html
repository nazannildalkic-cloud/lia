<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nanil Pulse — Impressum</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Playfair+Display:wght@500&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/jpeg" href="assets/logo.jpg">
    <style>
        /* Farben wie Landing Page */
        :root {
            --bg: #323842;
            --text: #f5f5f5;
            --muted: #9ea2aa;
            --turquoise: #5d9aa8;
            --turquoise-light: #7eb8c4;
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            background: var(--bg);
            background-image: radial-gradient(ellipse 100% 80% at 50% 0%, rgba(93, 154, 168, 0.06) 0%, transparent 50%);
            color: var(--text);
            font-family: Inter, system-ui, sans-serif;
        }

        main .container {
            color: var(--muted) !important;
        }

        h1.text-gradient-gold {
            color: var(--turquoise) !important;
            background: none !important;
            font-family: "Playfair Display", serif;
        }

        h2 {
            color: var(--text) !important;
        }

        a {
            color: var(--turquoise) !important;
        }

        a:hover {
            color: var(--turquoise-light) !important;
        }

        header {
            background: rgba(50, 56, 66, 0.92) !important;
            border-bottom: 1px solid var(--border) !important;
        }

        footer {
            border-top-color: var(--border) !important;
        }

        footer a {
            color: var(--turquoise) !important;
        }
    </style>
</head>

<body style="min-height: 100vh; display: flex; flex-direction: column;">
    <header>
        <div class="container header-inner">
            <a href="index.html" class="logo">
                <img src="assets/logo.jpg" alt="Logo">
                <span class="text-gradient-gold">NANIL Pulse</span>
            </a>
            <nav>
                <div class="lang-switcher" style="display: flex; gap: 10px; margin-right: 20px;">
                    <button onclick="window.setLanguage('de')"
                        style="background:none; border:none; color:inherit; cursor:pointer;">DE</button>
                    <button onclick="window.setLanguage('en')"
                        style="background:none; border:none; color:inherit; cursor:pointer;">EN</button>
                    <button onclick="window.setLanguage('tr')"
                        style="background:none; border:none; color:inherit; cursor:pointer;">TR</button>
                </div>
                <ul>
                    <li><a href="index.html" id="nav-home">Zurück zur Startseite</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main style="flex: 1; padding: 120px 20px 60px;">
        <div class="container" style="max-width: 800px; color: #ccc;">
            <h1 class="text-gradient-gold" style="margin-bottom: 30px;">Impressum</h1>

            <section style="margin-bottom: 30px;">
                <h2 style="color: white; margin-bottom: 10px;">Angaben gemäß § 5 TMG</h2>
                <p>
                    <strong>NANIL Pulse</strong><br>
                    Nazan Nil Dalkic<br>
                    Marktstr. 1A<br>
                    20357 Hamburg<br>
                    Deutschland
                </p>
            </section>

            <section style="margin-bottom: 30px;">
                <h2 style="color: white; margin-bottom: 10px;">Kontakt</h2>
                <p>
                    Telefon: +49 177 6480485<br>
                    E-Mail: nazandalkic@gmail.com
                </p>
            </section>

            <section style="margin-bottom: 30px;">
                <h2 style="color: white; margin-bottom: 10px;">Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV</h2>
                <p>
                    Nazan Nil Dalkic<br>
                    Marktstr. 1A<br>
                    20357 Hamburg
                </p>
            </section>

            <section>
                <h2 style="color: white; margin-bottom: 10px;">Streitschlichtung</h2>
                <p>
                    Die Europäische Kommission stellt eine Plattform zur Online-Streitbeilegung (OS) bereit:
                    <a href="https://ec.europa.eu/consumers/odr"
                        style="color: var(--cyan-primary);">https://ec.europa.eu/consumers/odr</a>.<br>
                    Unsere E-Mail-Adresse finden Sie oben im Impressum.
                </p>
            </section>
        </div>
        <section id="voice" class="voice-agent"
            style="margin-top: 50px; padding: 40px; background: rgba(0,0,0,0.1); border-radius: 20px; text-align: center; border: 1px solid var(--border);">
            <h2 id="voice-title">KI-Sprachbegleiterin</h2>
            <p id="voice-sub">Nanni ist Ihre Begleiterin.</p>
            <div class="orb" id="vapi-orb"
                style="width: 80px; height: 80px; margin: 20px auto; background: var(--turquoise); border-radius: 50%; cursor: pointer;">
            </div>
            <button type="button" id="start-vapi-btn" class="btn btn-primary"
                style="background: var(--turquoise); color: white; padding: 10px 20px; border: none; border-radius: 999px; cursor: pointer;">Nanni
                starten</button>
            <p id="nanni-status" style="margin-top: 15px; font-size: 0.8rem; color: var(--muted);">Bereit.</p>
        </section>
    </main>
    <!-- Nanni Assistant Script (Vapi) -->
    <script type="module">
        import Vapi from "https://esm.sh/@vapi-ai/web";

        const publicKey = '946075e5-8ecc-45cb-9daf-7a22a29983e7';
        const assistantId = '019159c3-7186-4c40-9a80-d62d04251216';

        const vapi = new Vapi(publicKey);
        let isActive = false;

        const btn = document.getElementById('start-vapi-btn');
        const orb = document.getElementById('vapi-orb');
        const statusText = document.getElementById('nanni-status');

        async function toggleCall() {
            if (isActive) {
                vapi.stop();
                return;
            }

            try {
                if (statusText) statusText.innerText = "Frage Mikrofon an...";
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                stream.getTracks().forEach(t => t.stop());

                if (statusText) statusText.innerText = "Verbindung wird aufgebaut...";
                vapi.start(assistantId);
            } catch (err) {
                if (statusText) statusText.innerText = "Fehler: Mikrofonzugriff verweigert.";
            }
        }

        vapi.on('call-start', () => {
            isActive = true;
            if (btn) {
                btn.innerHTML = '<i class="fas fa-stop"></i> ' + (window.getTranslation ? window.getTranslation('btn_stop_voice') : 'Nanni stoppen');
                btn.style.background = "#ff5e62";
            }
            if (orb) {
                orb.classList.add('active', 'speaking');
                orb.style.boxShadow = "0 0 50px #00bcd4";
            }
            if (statusText) statusText.innerText = "Nanni hört zu...";
        });

        vapi.on('call-end', () => {
            isActive = false;
            if (btn) {
                btn.innerHTML = '<i class="fas fa-microphone"></i> ' + (window.getTranslation ? window.getTranslation('btn_start_voice') : 'Nanni starten');
                btn.style.background = "";
            }
            if (orb) {
                orb.classList.remove('active', 'speaking');
                orb.style.boxShadow = "";
            }
            if (statusText) statusText.innerText = "Bereit für das nächste Gespräch.";
        });

        vapi.on('error', (e) => {
            console.error(e);
            if (statusText) statusText.innerText = "Verbindung unterbrochen. Bitte neu starten.";
            isActive = false;
            if (btn) {
                btn.innerHTML = '<i class="fas fa-microphone"></i> ' + (window.getTranslation ? window.getTranslation('btn_start_voice') : 'Nanni starten');
                btn.style.background = "";
            }
            if (orb) orb.classList.remove('active', 'speaking');
        });

        if (btn) btn.onclick = toggleCall;
        if (orb) orb.onclick = toggleCall;
    </script>
</body>

</html>